{
  "context": {
    "version": "2.0.0",
    "action": "on_discover",
    "timestamp": "2024-10-04T10:00:05Z",
    "message_id": "msg-on-discover-001",
    "transaction_id": "txn-energy-001",
    "bap_id": "bap.energy-consumer.com",
    "bap_uri": "https://bap.energy-consumer.com",
    "bpp_id": "bpp.energy-provider.com",
    "bpp_uri": "https://bpp.energy-provider.com",
    "ttl": "PT30S",
    "domain": "energy-trade"
  },
  "message": {
    "catalogs": [
      {
        "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
        "@type": "beckn:Catalog",
        "beckn:id": "catalog-energy-001",
        "beckn:descriptor": {
          "@type": "beckn:Descriptor",
          "schema:name": "Solar Energy Trading Catalog - Fixed Price Mode",
          "beckn:shortDesc": "Fixed price P2P trading (SELLER + BUYER roles)"
        },
        "beckn:items": [
          {
            "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
            "@type": "beckn:Item",
            "beckn:id": "energy-resource-solar-001",
            "beckn:descriptor": {
              "@type": "beckn:Descriptor",
              "schema:name": "Solar Energy - 30.5 kWh",
              "beckn:shortDesc": "Carbon Offset Certified Solar Energy",
              "beckn:longDesc": "High-quality solar energy from verified source with carbon offset certification"
            },
            "beckn:provider": {
              "@type": "beckn:Provider",
              "beckn:id": "provider-solar-farm-001"
            },
            "beckn:itemAttributes": {
              "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/EnergyResource/v0.2/context.jsonld",
              "@type": "EnergyResource",
              "sourceType": "SOLAR",
              "deliveryMode": "GRID_INJECTION",
              "certificationStatus": "Carbon Offset Certified",
              "meterId": "100200300",
              "inverterId": "inv-12345",
              "availableQuantity": 30.5,
              "productionWindow": {
                "start": "2024-10-04T10:00:00Z",
                "end": "2024-10-04T18:00:00Z"
              },
              "sourceVerification": {
                "verified": true,
                "verificationDate": "2024-09-01T00:00:00Z",
                "certificates": [
                  "https://example.com/certs/solar-panel-cert.pdf"
                ]
              },
              "productionAsynchronous": true
            }
          }
        ],
        "beckn:offers": [
          {
            "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld",
            "@type": "beckn:Offer",
            "beckn:id": "offer-energy-001",
            "beckn:descriptor": {
              "@type": "beckn:Descriptor",
              "schema:name": "Daily Settlement Solar Energy Offer"
            },
            "beckn:provider": "provider-solar-farm-001",
            "beckn:items": ["energy-resource-solar-001"],
            "beckn:price": {
              "@type": "schema:PriceSpecification",
              "schema:price": 0.15,
              "schema:priceCurrency": "USD",
              "schema:unitText": "kWh"
            },
            "beckn:offerAttributes": {
              "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/EnergyOffer/v1/context.jsonld",
              "@type": "EnergyOffer",
              "offerId": "offer-energy-001",
              "contractId": "contract-p2p-trade-001",
              "providerId": "bpp.energy-provider.com",
              "providerUri": "https://bpp.energy-provider.com",
              "openRole": "BUYER",
              "contractSummary": "Fixed price P2P trading: SELLER provides fixed pricePerKWh, BUYER provides contractedQuantity",
              "contract": {
                "@context": "https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/EnergyContractP2PTrade/v1/context.jsonld",
                "@type": "EnergyContractP2PTrade",
                "contractId": "contract-p2p-trade-001",
                "status": "PENDING",
                "createdAt": "2024-10-04T10:00:00Z",
                "_comment": "Fixed Price Mode: SELLER + BUYER roles with fixed pricePerKWh",
                "roles": [
                  {
                    "role": "SELLER",
                    "filledBy": "bpp.energy-provider.com",
                    "filled": true,
                    "roleInputs": {
                      "sourceMeterId": "100200300",
                      "sourceType": "SOLAR",
                      "pricePerKWh": 0.15,
                      "currency": "USD",
                      "inverterId": "inv-12345",
                      "certification": {
                        "status": "Carbon Offset Certified",
                        "certificates": [
                          "https://example.com/certs/solar-panel-cert.pdf"
                        ]
                      },
                      "pricingModel": "PER_KWH",
                      "settlementType": "DAILY",
                      "minimumQuantity": 1.0,
                      "maximumQuantity": 100.0,
                      "validityWindow": {
                        "start": "2024-10-04T00:00:00Z",
                        "end": "2024-10-04T23:59:59Z"
                      }
                    }
                  },
                  {
                    "role": "BUYER",
                    "filledBy": null,
                    "filled": false,
                    "roleInputs": {}
                  }
                ],
                "inputParameters": {
                  "validityWindow": {
                    "startTime": "2024-10-04T00:00:00Z",
                    "endTime": "2024-10-04T23:59:59Z"
                  }
                },
                "inputSignals": [],
                "telemetrySources": [],
                "revenueFlows": {
                  "flows": [
                    {
                      "from": "BUYER",
                      "to": "SELLER",
                      "formula": "roles.BUYER.roleInputs.contractedQuantity × roles.SELLER.roleInputs.pricePerKWh",
                      "description": "BUYER pays SELLER based on contracted quantity × price per kWh"
                    },
                    {
                      "from": "BUYER",
                      "to": "GRID_OPERATOR",
                      "formula": "roles.BUYER.roleInputs.contractedQuantity × roles.GRID_OPERATOR.roleInputs.wheelingCharges",
                      "description": "BUYER pays GRID_OPERATOR for wheeling charges based on contracted quantity"
                    }
                  ],
                  "netZero": true
                },
                "qualityMetrics": {
                  "metrics": []
                }
              }
            }
          }
        ]
      }
    ]
  }
}

